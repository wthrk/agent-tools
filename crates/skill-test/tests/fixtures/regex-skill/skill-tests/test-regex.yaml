# Converted from test-case.yaml + contracts/skills/regex-test-skill.yaml
# All test cases use the same assertion set (as in original)

- id: regex-present-001
  prompt: "Run /regex-test-skill to say hello"
  assertions:
    # regex present: pattern must match
    - id: regex-present-hello
      type: regex
      pattern: "Hello"
      expect: present
    # regex with complex pattern (multiline, anywhere in output)
    - id: regex-pattern-greeting
      type: regex
      pattern: "(Hello|Hi|Hey)"
      expect: present
    # Complex regex with word boundary and case insensitivity
    - id: regex-complex-word-boundary
      type: regex
      pattern: "\\b[Hh]ello\\b"
      expect: present
    # Complex regex with quantifiers
    - id: regex-complex-quantifier
      type: regex
      pattern: "Hello[,!.]?"
      expect: present
  golden_assertions:
    # regex absent: LLM might mention the pattern name itself, so this is best-effort
    - id: regex-absent-todo
      type: regex
      pattern: "TODO|FIXME"
      expect: absent

- id: regex-absent-001
  prompt: "Run /regex-test-skill and say hello"
  assertions:
    - id: regex-present-hello
      type: regex
      pattern: "Hello"
      expect: present
    - id: regex-pattern-greeting
      type: regex
      pattern: "(Hello|Hi|Hey)"
      expect: present
    - id: regex-complex-word-boundary
      type: regex
      pattern: "\\b[Hh]ello\\b"
      expect: present
    - id: regex-complex-quantifier
      type: regex
      pattern: "Hello[,!.]?"
      expect: present
  golden_assertions:
    - id: regex-absent-todo
      type: regex
      pattern: "TODO|FIXME"
      expect: absent

# Test complex regex patterns
- id: regex-complex-001
  prompt: "Run /regex-test-skill to say hello"
  assertions:
    - id: regex-present-hello
      type: regex
      pattern: "Hello"
      expect: present
    - id: regex-pattern-greeting
      type: regex
      pattern: "(Hello|Hi|Hey)"
      expect: present
    - id: regex-complex-word-boundary
      type: regex
      pattern: "\\b[Hh]ello\\b"
      expect: present
    - id: regex-complex-quantifier
      type: regex
      pattern: "Hello[,!.]?"
      expect: present
  golden_assertions:
    - id: regex-absent-todo
      type: regex
      pattern: "TODO|FIXME"
      expect: absent
